# Music Player App - Тестовое задание для стажёра Android-направления (зимняя волна 2025)

## Запуск проекта
1. Клонировать репозиторий:  
      git clone https://github.com/stepchik003/music_player.git  
      cd music_player  
2. Открыть в Android Studio
3. Запустить на эмуляторе/устройстве

ИЛИ

1. Скачать APK-файл из Releases
2. Установить APK на Android-устройство.
3. Открыть приложение и пользоваться!

## Технологии
- Язык: Kotlin  
- Архитектура: MVVM
- Чистая архитектура
- Работа с сетью: Retrofit  
- Многопоточность: Kotlin Coroutines + Flow
- DI: Dagger Hilt
- Навигация: Jetpack Navigation
- Сериализация: Kotlinx Serialization

## Вопросы и проблемы, с которыми я столкнулся
1. _Как реализовать общий модуль для списка треков?_

   В проекте два экрана со списками треков: скачанные и полученные из API. Чтобы не дублировать код, я решил вынести общую логику в базовые классы. Вопрос был в том, как лучше это организовать.
   
   **Решение:**
   - Был создан абстрактный BaseTrackFragment, который содержит общую логику для списков.
   - BaseTrackViewModel инкапсулирует основные операции с треками и представлением.
   - Конкретные реализации (LocalTracksFragment и ApiTracksFragment) наследуются от базовых классов и добавляют свою логику.

2. _Нужно ли останавливать воспроизведение при закрытии фрагмента?_

   Возник вопрос, стоит ли продолжать воспроизведение при закрытии экрана плеера или останавливать его.
   
   **Решение:**
   - В моем случае было принято решение останавливать воспроизведение при закрытии фрагмента, так как это позволяет избежать проблем с управлением плеером и навигацией между фрагментами.

3. _Проблемы с получением обложки альбома скачанных треков_  

   При загрузке обложек скачанных треков оказалось, что их путь и способ получения зависят от версии Android.
   
   **Решение:**
   - Для разных API должны использоваться разные способы получения
   - Код был адаптирован с учетом этих различий, чтобы корректно загружать обложки на всех поддерживаемых версиях Android.
